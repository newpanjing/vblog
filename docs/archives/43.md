---
title: MySQL5.7 添加用户、删除用户与授权
---

# MySQL5.7 添加用户、删除用户与授权

<p style="margin: 10px auto; padding: 0px; color: rgb(51, 51, 51); font-family: verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);">mysql -uroot -proot</p><p style="margin: 10px auto; padding: 0px; color: rgb(51, 51, 51); font-family: verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"><span style="margin: 0px; padding: 0px; line-height: 1.8; color: rgb(255, 0, 0);">MySQL5.7 mysql.user表没有password字段改&nbsp;authentication_string；</span></p><h3 style="margin: 10px 0px; padding: 0px; font-size: 16px; line-height: 1.5; font-family: verdana, Arial, Helvetica, sans-serif; white-space: normal; background-color: rgb(255, 255, 255);">一. 创建用户:</h3><p style="margin: 10px auto; padding: 0px; color: rgb(51, 51, 51); font-family: verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);">命令:CREATE USER&nbsp;<a style="margin: 0px; padding: 0px; color: rgb(0, 0, 0); border-bottom: 1px dotted rgb(51, 51, 51);">&#39;</a><a style="margin: 0px; padding: 0px; color: rgb(0, 0, 0); border-bottom: 1px dotted rgb(51, 51, 51);">username&#39;@&#39;host</a>&#39; IDENTIFIED BY &#39;password&#39;;</p><p style="margin: 10px auto; padding: 0px; color: rgb(51, 51, 51); font-family: verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);">例子: CREATE USER&nbsp;<a style="margin: 0px; padding: 0px; color: rgb(0, 0, 0); border-bottom: 1px dotted rgb(51, 51, 51);">&#39;</a><a style="margin: 0px; padding: 0px; color: rgb(0, 0, 0); border-bottom: 1px dotted rgb(51, 51, 51);">dog&#39;@&#39;localhost</a>&#39; IDENTIFIED BY &#39;123456&#39;;</p><p style="margin: 10px auto; padding: 0px; color: rgb(51, 51, 51); font-family: verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);">&nbsp; &nbsp; &nbsp; &nbsp; CREATE USER &#39;dog2&#39;@&#39;localhost&#39; IDENTIFIED BY &#39;&#39;;</p><p style="margin: 10px auto; padding: 0px; color: rgb(51, 51, 51); font-family: verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"><span style="margin: 0px; padding: 0px; line-height: 1.8; color: rgb(255, 0, 0);">PS：username - 你将创建的用户名,</span></p><p style="margin: 10px auto; padding: 0px; color: rgb(51, 51, 51); font-family: verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"><span style="margin: 0px; padding: 0px; line-height: 1.8; color: rgb(255, 0, 0);">host - 指定该用户在哪个主机上可以登陆，此处的&quot;localhost&quot;，是指该用户只能在本地登录，不能在另外一台机器上远程登录，如果想远程登录的话，将&quot;localhost&quot;改为&quot;%&quot;，表示在任何一台电脑上都可以登录;也可以指定某台机器可以远程登录;</span></p><p style="margin: 10px auto; padding: 0px; color: rgb(51, 51, 51); font-family: verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"><span style="margin: 0px; padding: 0px; line-height: 1.8; color: rgb(255, 0, 0);">password - 该用户的登陆密码,密码可以为空,如果为空则该用户可以不需要密码登陆服务器。</span></p><h3 style="margin: 10px 0px; padding: 0px; font-size: 16px; line-height: 1.5; font-family: verdana, Arial, Helvetica, sans-serif; white-space: normal; background-color: rgb(255, 255, 255);">二.授权:</h3><p style="margin: 10px auto; padding: 0px; color: rgb(51, 51, 51); font-family: verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);">命令:<span class="docEmphStrong" style="margin: 0px; padding: 0px; line-height: 1.8;">GRANT privileges&nbsp;<span class="docEmphStrong" style="margin: 0px; padding: 0px; line-height: 1.8;">ON databasename.tablename&nbsp;<span class="docEmphStrong" style="margin: 0px; padding: 0px; line-height: 1.8;">TO&nbsp;<a style="margin: 0px; padding: 0px; color: rgb(0, 0, 0); border-bottom: 1px dotted rgb(51, 51, 51);">&#39;username&#39;@&#39;host&#39;</a></span></span></span></p><p style="margin: 10px auto; padding: 0px; color: rgb(51, 51, 51); font-family: verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"><span class="docEmphStrong" style="margin: 0px; padding: 0px; line-height: 1.8; color: rgb(255, 0, 0);">PS: privileges - 用户的操作权限,如SELECT , INSERT , UPDATE&nbsp;等(详细列表见该文最后面).如果要授予所的权限则使用ALL.;databasename - 数据库名,tablename-表名,如果要授予该用户对所有数据库和表的相应操作权限则可用*表示, 如*.*.</span></p><p style="margin: 10px auto; padding: 0px; color: rgb(51, 51, 51); font-family: verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"><span class="docEmphStrong" style="margin: 0px; padding: 0px; line-height: 1.8;">例子: GRANT SELECT, INSERT ON mq.* TO&nbsp;<a style="margin: 0px; padding: 0px; color: rgb(0, 0, 0); border-bottom: 1px dotted rgb(51, 51, 51);">&#39;dog&#39;@&#39;</a><a style="margin: 0px; padding: 0px; color: rgb(0, 0, 0); border-bottom: 1px dotted rgb(51, 51, 51);">localhost</a><a style="margin: 0px; padding: 0px; color: rgb(0, 0, 0); border-bottom: 1px dotted rgb(51, 51, 51);">&#39;</a>;<br style="margin: 0px; padding: 0px;"/></span></p><h3 style="margin: 10px 0px; padding: 0px; font-size: 16px; line-height: 1.5; font-family: verdana, Arial, Helvetica, sans-serif; white-space: normal; background-color: rgb(255, 255, 255);"><span class="docEmphStrong" style="margin: 0px; padding: 0px; line-height: 1.8;">三.创建用户同时授权</span></h3><p style="margin: 10px auto; padding: 0px; color: rgb(51, 51, 51); font-family: verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);">mysql&gt; grant all privileges on mq.* to test@localhost identified by &#39;1234&#39;;<br style="margin: 0px; padding: 0px;"/>Query OK, 0 rows affected, 1 warning (0.00 sec)</p><p style="margin: 10px auto; padding: 0px; color: rgb(51, 51, 51); font-family: verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);">mysql&gt;&nbsp;<span style="margin: 0px; padding: 0px; line-height: 1.8; color: rgb(255, 0, 0);">flush privileges;</span><br style="margin: 0px; padding: 0px;"/>Query OK, 0 rows affected (0.01 sec)</p><p style="margin: 10px auto; padding: 0px; color: rgb(51, 51, 51); font-family: verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);">PS:必须执行<strong style="margin: 0px; padding: 0px;"><span style="margin: 0px; padding: 0px; line-height: 1.8; color: rgb(255, 0, 0);">flush privileges;&nbsp;</span></strong></p><p style="margin: 10px auto; padding: 0px; color: rgb(51, 51, 51); font-family: verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"><strong style="margin: 0px; padding: 0px;"><span style="margin: 0px; padding: 0px; line-height: 1.8; color: rgb(255, 0, 0);">否则登录时提示：ERROR 1045 (28000): Access denied for user &#39;user&#39;@&#39;localhost&#39; (using password: YES )&nbsp;</span></strong></p><p style="margin: 10px auto; padding: 0px; color: rgb(51, 51, 51); font-family: verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);">&nbsp;</p><h3 style="margin: 10px 0px; padding: 0px; font-size: 16px; line-height: 1.5; font-family: verdana, Arial, Helvetica, sans-serif; white-space: normal; background-color: rgb(255, 255, 255);"><span class="docEmphStrong" style="margin: 0px; padding: 0px; line-height: 1.8;">四.设置与更改用户密码</span></h3><p style="margin: 10px auto; padding: 0px; color: rgb(51, 51, 51); font-family: verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"><span class="docEmphStrong" style="margin: 0px; padding: 0px; line-height: 1.8;">命令:SET PASSWORD FOR&nbsp;<a style="margin: 0px; padding: 0px; color: rgb(0, 0, 0); border-bottom: 1px dotted rgb(51, 51, 51);">&#39;username&#39;@&#39;host&#39;</a>&nbsp;= PASSWORD(&#39;newpassword&#39;);</span></p><p style="margin: 10px auto; padding: 0px; color: rgb(51, 51, 51); font-family: verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"><span class="docEmphStrong" style="margin: 0px; padding: 0px; line-height: 1.8;">例子: SET PASSWORD FOR&nbsp;<a style="margin: 0px; padding: 0px; color: rgb(0, 0, 0); border-bottom: 1px dotted rgb(51, 51, 51);">&#39;</a><a style="margin: 0px; padding: 0px; color: rgb(0, 0, 0); border-bottom: 1px dotted rgb(51, 51, 51);">dog2&#39;@&#39;localhost</a>&#39;&nbsp;= PASSWORD(&quot;dog&quot;);</span></p><h3 style="margin: 10px 0px; padding: 0px; font-size: 16px; line-height: 1.5; font-family: verdana, Arial, Helvetica, sans-serif; white-space: normal; background-color: rgb(255, 255, 255);"><span class="docEmphStrong" style="margin: 0px; padding: 0px; line-height: 1.8;">五.撤销用户权限</span></h3><p style="margin: 10px auto; padding: 0px; color: rgb(51, 51, 51); font-family: verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"><span class="docEmphStrong" style="margin: 0px; padding: 0px; line-height: 1.8;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 命令: REVOKE privilege ON databasename.tablename FROM&nbsp;<a style="margin: 0px; padding: 0px; color: rgb(0, 0, 0); border-bottom: 1px dotted rgb(51, 51, 51);">&#39;username&#39;@&#39;host&#39;</a>;</span></p><p style="margin: 10px auto; padding: 0px; color: rgb(51, 51, 51); font-family: verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"><span class="docEmphStrong" style="margin: 0px; padding: 0px; line-height: 1.8;">&nbsp;&nbsp;&nbsp;&nbsp; 说明: privilege, databasename, tablename - 同授权部分.</span></p><p style="margin: 10px auto; padding: 0px; color: rgb(51, 51, 51); font-family: verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"><span class="docEmphStrong" style="margin: 0px; padding: 0px; line-height: 1.8;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 例子: REVOKE SELECT ON mq.* FROM&nbsp;<a style="margin: 0px; padding: 0px; color: rgb(0, 0, 0); border-bottom: 1px dotted rgb(51, 51, 51);">&#39;</a><a style="margin: 0px; padding: 0px; color: rgb(0, 0, 0); border-bottom: 1px dotted rgb(51, 51, 51);">dog2&#39;@&#39;localhost</a>&#39;;</span></p><p style="margin: 10px auto; padding: 0px; color: rgb(51, 51, 51); font-family: verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"><span class="docEmphStrong" style="margin: 0px; padding: 0px; line-height: 1.8; color: rgb(255, 0, 0);">PS: 假如你在给用户<a style="margin: 0px; padding: 0px; color: rgb(0, 0, 0); border-bottom: 1px dotted rgb(51, 51, 51);"><span style="margin: 0px; padding: 0px; line-height: 1.8; color: rgb(255, 0, 0);">&#39;dog&#39;@&#39;</span></a><a style="margin: 0px; padding: 0px; color: rgb(0, 0, 0); border-bottom: 1px dotted rgb(51, 51, 51);"><span style="margin: 0px; padding: 0px; line-height: 1.8; color: rgb(255, 0, 0);">localhost</span></a><a style="margin: 0px; padding: 0px; color: rgb(0, 0, 0); border-bottom: 1px dotted rgb(51, 51, 51);"><span style="margin: 0px; padding: 0px; line-height: 1.8; color: rgb(255, 0, 0);">&#39;</span></a><a style="margin: 0px; padding: 0px; color: rgb(0, 0, 0); border-bottom: 1px dotted rgb(51, 51, 51);"><span style="margin: 0px; padding: 0px; line-height: 1.8; color: rgb(255, 0, 0);">&#39;</span></a>授权的时候是这样的(或类似的):GRANT SELECT ON&nbsp;test.user&nbsp;TO&nbsp;<a style="margin: 0px; padding: 0px; color: rgb(0, 0, 0); border-bottom: 1px dotted rgb(51, 51, 51);"><span style="margin: 0px; padding: 0px; line-height: 1.8; color: rgb(255, 0, 0);">&#39;dog&#39;@&#39;</span></a><a style="margin: 0px; padding: 0px; color: rgb(0, 0, 0); border-bottom: 1px dotted rgb(51, 51, 51);"><span style="margin: 0px; padding: 0px; line-height: 1.8; color: rgb(255, 0, 0);">localhost</span></a><a style="margin: 0px; padding: 0px; color: rgb(0, 0, 0); border-bottom: 1px dotted rgb(51, 51, 51);"><span style="margin: 0px; padding: 0px; line-height: 1.8; color: rgb(255, 0, 0);">&#39;</span></a>, 则在使用REVOKE SELECT ON&nbsp;*.*&nbsp;FROM&nbsp;<a style="margin: 0px; padding: 0px; color: rgb(0, 0, 0); border-bottom: 1px dotted rgb(51, 51, 51);"><span style="margin: 0px; padding: 0px; line-height: 1.8; color: rgb(255, 0, 0);">&#39;dog&#39;@&#39;</span></a><a style="margin: 0px; padding: 0px; color: rgb(0, 0, 0); border-bottom: 1px dotted rgb(51, 51, 51);"><span style="margin: 0px; padding: 0px; line-height: 1.8; color: rgb(255, 0, 0);">localhost</span></a><a style="margin: 0px; padding: 0px; color: rgb(0, 0, 0); border-bottom: 1px dotted rgb(51, 51, 51);"><span style="margin: 0px; padding: 0px; line-height: 1.8; color: rgb(255, 0, 0);">&#39;</span></a>;命令并不能撤销该用户对test数据库中user表的SELECT 操作.相反,如果授权使用的是GRANT SELECT ON *.* TO&nbsp;<a style="margin: 0px; padding: 0px; color: rgb(0, 0, 0); border-bottom: 1px dotted rgb(51, 51, 51);"><span style="margin: 0px; padding: 0px; line-height: 1.8; color: rgb(255, 0, 0);">&#39;dog&#39;@&#39;</span></a><a style="margin: 0px; padding: 0px; color: rgb(0, 0, 0); border-bottom: 1px dotted rgb(51, 51, 51);"><span style="margin: 0px; padding: 0px; line-height: 1.8; color: rgb(255, 0, 0);">localhost</span></a><a style="margin: 0px; padding: 0px; color: rgb(0, 0, 0); border-bottom: 1px dotted rgb(51, 51, 51);"><span style="margin: 0px; padding: 0px; line-height: 1.8; color: rgb(255, 0, 0);">&#39;</span></a>;则REVOKE SELECT ON test.user FROM&nbsp;<a style="margin: 0px; padding: 0px; color: rgb(0, 0, 0); border-bottom: 1px dotted rgb(51, 51, 51);"><span style="margin: 0px; padding: 0px; line-height: 1.8; color: rgb(255, 0, 0);">&#39;dog&#39;@&#39;</span></a><a style="margin: 0px; padding: 0px; color: rgb(0, 0, 0); border-bottom: 1px dotted rgb(51, 51, 51);"><span style="margin: 0px; padding: 0px; line-height: 1.8; color: rgb(255, 0, 0);">localhost</span></a><a style="margin: 0px; padding: 0px; color: rgb(0, 0, 0); border-bottom: 1px dotted rgb(51, 51, 51);"><span style="margin: 0px; padding: 0px; line-height: 1.8; color: rgb(255, 0, 0);">&#39;</span></a>;命令也不能撤销该用户对test数据库中user表的Select 权限.</span></p><p style="margin: 10px auto; padding: 0px; color: rgb(51, 51, 51); font-family: verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"><span class="docEmphStrong" style="margin: 0px; padding: 0px; line-height: 1.8;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 具体信息可以用命令SHOW GRANTS FOR&nbsp;<a style="margin: 0px; padding: 0px; color: rgb(0, 0, 0); border-bottom: 1px dotted rgb(51, 51, 51);">&#39;dog&#39;@&#39;</a><a style="margin: 0px; padding: 0px; color: rgb(0, 0, 0); border-bottom: 1px dotted rgb(51, 51, 51);">localhost</a><a style="margin: 0px; padding: 0px; color: rgb(0, 0, 0); border-bottom: 1px dotted rgb(51, 51, 51);">&#39;</a>; 查看.</span></p><h3 style="margin: 10px 0px; padding: 0px; font-size: 16px; line-height: 1.5; font-family: verdana, Arial, Helvetica, sans-serif; white-space: normal; background-color: rgb(255, 255, 255);"><span class="docEmphStrong" style="margin: 0px; padding: 0px; line-height: 1.8;">六.删除用户</span></h3><p style="margin: 10px auto; padding: 0px; color: rgb(51, 51, 51); font-family: verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"><span class="docEmphStrong" style="margin: 0px; padding: 0px; line-height: 1.8;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 命令:&nbsp;<span class="docEmphStrong" style="margin: 0px; padding: 0px; line-height: 1.8;">DROP USER&nbsp;<a style="margin: 0px; padding: 0px; color: rgb(0, 0, 0); border-bottom: 1px dotted rgb(51, 51, 51);">&#39;username&#39;@&#39;host&#39;</a>;</span></span></p><h3 style="margin: 10px 0px; padding: 0px; font-size: 16px; line-height: 1.5; font-family: verdana, Arial, Helvetica, sans-serif; white-space: normal; background-color: rgb(255, 255, 255);"><span class="docEmphStrong" style="margin: 0px; padding: 0px; line-height: 1.8;">七.查看用户的授权</span></h3><p style="margin: 10px auto; padding: 0px; color: rgb(51, 51, 51); font-family: verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);">mysql&gt; show grants for dog@localhost;<br style="margin: 0px; padding: 0px;"/>+---------------------------------------------+<br style="margin: 0px; padding: 0px;"/>| Grants for dog@localhost |<br style="margin: 0px; padding: 0px;"/>+---------------------------------------------+<br style="margin: 0px; padding: 0px;"/>| GRANT USAGE ON *.* TO &#39;dog&#39;@&#39;localhost&#39; |<br style="margin: 0px; padding: 0px;"/>| GRANT INSERT ON `mq`.* TO &#39;dog&#39;@&#39;localhost&#39; |<br style="margin: 0px; padding: 0px;"/>+---------------------------------------------+<br style="margin: 0px; padding: 0px;"/>2 rows in set (0.00 sec)</p><p style="margin: 10px auto; padding: 0px; color: rgb(51, 51, 51); font-family: verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"><span style="margin: 0px; padding: 0px; line-height: 1.8; color: rgb(255, 0, 0);"><strong style="margin: 0px; padding: 0px;">PS:GRANT USAGE:mysql usage权限就是空权限，默认create user的权限，只能连库，啥也不能干</strong></span></p><p><br/></p>


