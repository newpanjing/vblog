---
title: vue v-for 数组乱序
---

# vue v-for 数组乱序

<p>需要添加 一个key，而且key的值是惟一的<br/></p><p>例如：</p><p>&lt;div v-for=&quot;item in items&quot; :key=&quot;item.id&quot;&gt;&lt;/div&gt;</p><p><br/></p><p>Vue官方的解释：</p><p style="word-spacing: 0.05em; line-height: 1.6em; margin-top: 1.2em; margin-bottom: -1.2em; padding-bottom: 1.2em; position: relative; z-index: 1; color: rgb(52, 73, 94); font-family: &quot;Source Sans Pro&quot;, &quot;Helvetica Neue&quot;, Arial, sans-serif; white-space: normal; background-color: rgb(255, 255, 255);">当 Vue.js 用&nbsp;<code style="font-family: &quot;Roboto Mono&quot;, Monaco, courier, monospace; font-size: 0.8em; background-color: rgb(248, 248, 248); -webkit-font-smoothing: initial; color: rgb(233, 105, 0); padding: 3px 5px; margin: 0px 2px; border-radius: 2px; white-space: nowrap;">v-for</code>&nbsp;正在更新已渲染过的元素列表时，它默认用“就地复用”策略。如果数据项的顺序被改变，Vue 将不会移动 DOM 元素来匹配数据项的顺序， 而是简单复用此处每个元素，并且确保它在特定索引下显示已被渲染过的每个元素。这个类似 Vue 1.x 的&nbsp;<code style="font-family: &quot;Roboto Mono&quot;, Monaco, courier, monospace; font-size: 0.8em; background-color: rgb(248, 248, 248); -webkit-font-smoothing: initial; color: rgb(233, 105, 0); padding: 3px 5px; margin: 0px 2px; border-radius: 2px; white-space: nowrap;">track-by=&quot;$index&quot;</code>&nbsp;。</p><p style="word-spacing: 0.05em; line-height: 1.6em; margin-top: 1.2em; margin-bottom: -1.2em; padding-bottom: 1.2em; position: relative; z-index: 1; color: rgb(52, 73, 94); font-family: &quot;Source Sans Pro&quot;, &quot;Helvetica Neue&quot;, Arial, sans-serif; white-space: normal; background-color: rgb(255, 255, 255);">这个默认的模式是高效的，但是只适用于<span style="font-weight: 600; color: rgb(44, 62, 80);">不依赖子组件状态或临时 DOM 状态 (例如：表单输入值) 的列表渲染输出</span>。</p><p style="word-spacing: 0.05em; line-height: 1.6em; margin-top: 1.2em; margin-bottom: -1.2em; padding-bottom: 1.2em; position: relative; z-index: 1; color: rgb(52, 73, 94); font-family: &quot;Source Sans Pro&quot;, &quot;Helvetica Neue&quot;, Arial, sans-serif; white-space: normal; background-color: rgb(255, 255, 255);">为了给 Vue 一个提示，以便它能跟踪每个节点的身份，从而重用和重新排序现有元素，你需要为每项提供一个唯一&nbsp;<code style="font-family: &quot;Roboto Mono&quot;, Monaco, courier, monospace; font-size: 0.8em; background-color: rgb(248, 248, 248); -webkit-font-smoothing: initial; color: rgb(233, 105, 0); padding: 3px 5px; margin: 0px 2px; border-radius: 2px; white-space: nowrap;">key</code>&nbsp;属性。理想的&nbsp;<code style="font-family: &quot;Roboto Mono&quot;, Monaco, courier, monospace; font-size: 0.8em; background-color: rgb(248, 248, 248); -webkit-font-smoothing: initial; color: rgb(233, 105, 0); padding: 3px 5px; margin: 0px 2px; border-radius: 2px; white-space: nowrap;">key</code>&nbsp;值是每项都有的唯一 id。这个特殊的属性相当于 Vue 1.x 的&nbsp;<code style="font-family: &quot;Roboto Mono&quot;, Monaco, courier, monospace; font-size: 0.8em; background-color: rgb(248, 248, 248); -webkit-font-smoothing: initial; color: rgb(233, 105, 0); padding: 3px 5px; margin: 0px 2px; border-radius: 2px; white-space: nowrap;">track-by</code>&nbsp;，但它的工作方式类似于一个属性，所以你需要用&nbsp;<code style="font-family: &quot;Roboto Mono&quot;, Monaco, courier, monospace; font-size: 0.8em; background-color: rgb(248, 248, 248); -webkit-font-smoothing: initial; color: rgb(233, 105, 0); padding: 3px 5px; margin: 0px 2px; border-radius: 2px; white-space: nowrap;">v-bind</code>&nbsp;来绑定动态值 (在这里使用简写)：</p><p><figure class="highlight html" style="overflow-x: auto; background-color: rgb(248, 248, 248); padding: 0.4em 0px 0px; line-height: 1.1em; border-radius: 2px; position: relative; margin: 1.2em 0px; color: rgb(52, 73, 94); font-family: &quot;Source Sans Pro&quot;, &quot;Helvetica Neue&quot;, Arial, sans-serif; white-space: normal;"><table width="600"><tbody><tr style="width: 600px; border-collapse: collapse; padding: 0px; margin: 0px;" class="firstRow"><td class="code" style="border-collapse: collapse; padding: 0px; margin: 0px;" width="600"><pre style="color: rgb(82, 82, 82); font-family: &quot;Roboto Mono&quot;, Monaco, courier, monospace; font-size: 0.8em; -webkit-font-smoothing: initial; padding: 1.2em 1.4em; line-height: 1.5em; margin-top: 0px; margin-bottom: 0px;"><span class="line" style="min-height: 1.5em;"><span class="tag" style="color: rgb(41, 115, 183);">&lt;<span class="name">div</span> <span class="attr">v-for</span>=<span class="string" style="color: rgb(66, 185, 131);">&quot;item in items&quot;</span> <span class="attr">:key</span>=<span class="string" style="color: rgb(66, 185, 131);">&quot;item.id&quot;</span>&gt;</span></span><br/><span class="line" style="min-height: 1.5em;"> &nbsp;<span class="comment" style="color: rgb(179, 179, 179);">&lt;!-- 内容 --&gt;</span></span><br/><span class="line" style="min-height: 1.5em;"><span class="tag" style="color: rgb(41, 115, 183);">&lt;/<span class="name">div</span>&gt;</span></span><br/></pre></td></tr></tbody></table></figure></p><p style="word-spacing: 0.05em; line-height: 1.6em; margin-top: 1.2em; margin-bottom: -1.2em; padding-bottom: 1.2em; position: relative; z-index: 1; color: rgb(52, 73, 94); font-family: &quot;Source Sans Pro&quot;, &quot;Helvetica Neue&quot;, Arial, sans-serif; white-space: normal; background-color: rgb(255, 255, 255);">建议尽可能在使用&nbsp;<code style="font-family: &quot;Roboto Mono&quot;, Monaco, courier, monospace; font-size: 0.8em; background-color: rgb(248, 248, 248); -webkit-font-smoothing: initial; color: rgb(233, 105, 0); padding: 3px 5px; margin: 0px 2px; border-radius: 2px; white-space: nowrap;">v-for</code>&nbsp;时提供&nbsp;<code style="font-family: &quot;Roboto Mono&quot;, Monaco, courier, monospace; font-size: 0.8em; background-color: rgb(248, 248, 248); -webkit-font-smoothing: initial; color: rgb(233, 105, 0); padding: 3px 5px; margin: 0px 2px; border-radius: 2px; white-space: nowrap;">key</code>，除非遍历输出的 DOM 内容非常简单，或者是刻意依赖默认行为以获取性能上的提升。</p><p style="word-spacing: 0.05em; line-height: 1.6em; margin-top: 1.2em; margin-bottom: -1.2em; padding-bottom: 1.2em; position: relative; z-index: 1; color: rgb(52, 73, 94); font-family: &quot;Source Sans Pro&quot;, &quot;Helvetica Neue&quot;, Arial, sans-serif; white-space: normal; background-color: rgb(255, 255, 255);">因为它是 Vue 识别节点的一个通用机制，<code style="font-family: &quot;Roboto Mono&quot;, Monaco, courier, monospace; font-size: 0.8em; background-color: rgb(248, 248, 248); -webkit-font-smoothing: initial; color: rgb(233, 105, 0); padding: 3px 5px; margin: 0px 2px; border-radius: 2px; white-space: nowrap;">key</code>&nbsp;并不与&nbsp;<code style="font-family: &quot;Roboto Mono&quot;, Monaco, courier, monospace; font-size: 0.8em; background-color: rgb(248, 248, 248); -webkit-font-smoothing: initial; color: rgb(233, 105, 0); padding: 3px 5px; margin: 0px 2px; border-radius: 2px; white-space: nowrap;">v-for</code>&nbsp;特别关联，<code style="font-family: &quot;Roboto Mono&quot;, Monaco, courier, monospace; font-size: 0.8em; background-color: rgb(248, 248, 248); -webkit-font-smoothing: initial; color: rgb(233, 105, 0); padding: 3px 5px; margin: 0px 2px; border-radius: 2px; white-space: nowrap;">key</code>&nbsp;还具有其他用途，我们将在后面的指南中看到其他用途。</p><p class="tip" style="word-spacing: 0.05em; line-height: 1.6em; margin-top: 2em; margin-bottom: 2em; padding: 12px 24px 12px 30px; position: relative; z-index: 1; border-left: 4px solid rgb(255, 102, 102); background-color: rgb(248, 248, 248); border-bottom-right-radius: 2px; border-top-right-radius: 2px; color: rgb(52, 73, 94); font-family: &quot;Source Sans Pro&quot;, &quot;Helvetica Neue&quot;, Arial, sans-serif; white-space: normal;">不要使用对象或数组之类的非原始类型值作为&nbsp;<code style="font-family: &quot;Roboto Mono&quot;, Monaco, courier, monospace; font-size: 0.8em; background-color: rgb(239, 239, 239); -webkit-font-smoothing: initial; color: rgb(233, 105, 0); padding: 3px 5px; margin: 0px 2px; border-radius: 2px; white-space: nowrap;">v-for</code>&nbsp;的&nbsp;<code style="font-family: &quot;Roboto Mono&quot;, Monaco, courier, monospace; font-size: 0.8em; background-color: rgb(239, 239, 239); -webkit-font-smoothing: initial; color: rgb(233, 105, 0); padding: 3px 5px; margin: 0px 2px; border-radius: 2px; white-space: nowrap;">key</code>。用字符串或数类型的值取而代之。</p><p><a href="https://cn.vuejs.org/v2/guide/list.html" target="_blank" textvalue="https://cn.vuejs.org/v2/guide/list.html" rel="noopener">https://cn.vuejs.org/v2/guide/list.html</a> </p><p><br/></p>


